<div class="calendar">
    <div class="calendar-headline">
        <div class="calendar-headline-month">
            {{ firstDayOfActiveMonth().monthShort }},
            {{ firstDayOfActiveMonth().year }}
        </div>
        <div class="calendar-headline-controls">
            <div class="calendar-headline-control" (click)="goToPreviousMonth()">❮</div>
            <div class="calendar-headline-control calendar-headline-control-today" (click)="goToToday()">Today</div>
            <div class="calendar-headline-control" (click)="goToNextMonth()">❯</div>
        </div>
    </div>
    <div class="calendar-weeks-grid">
        @for (weekDay of weekDays(); track $index) {
        <div class="calendar-weeks-grid-cell" [ngClass]="{
            'calendar-weeks-grid-cell-weekend': $index === 5 || $index === 6
        }">{{ weekDay }}</div>
        }
    </div>
    <div class="calendar-grid">
        @for (dayOfMonth of daysOfMonth(); track $index) {
        <div [ngClass]="{
              'calendar-grid-cell': true,
              'calendar-grid-cell-active': activeDay()?.toISODate() === dayOfMonth.toISODate(),
              'calendar-grid-cell-inactive': dayOfMonth.month !== firstDayOfActiveMonth().month,
              'calendar-grid-cell-bg': dateNumbers[dayOfMonth.toISODate() || ''] ? true : false,
              'calendar-grid-cell-nobg': (dayOfMonth.weekday === 6 || dayOfMonth.weekday === 7) 
            }" (click)="handleClick(dayOfMonth)">
            {{ dayOfMonth.day }}

            <div class="number-container" *ngIf="dayOfMonth?.toISODate()" [ngClass]="{
                   'd-none': (dateNumbers[dayOfMonth.toISODate() || ''] ? true : false) == false ||
                   (dayOfMonth.weekday === 6 || dayOfMonth.weekday === 7) === true
                }">
                <i class="fa-regular fa-star"></i>
            </div>
        </div>
        }
    </div>
</div>